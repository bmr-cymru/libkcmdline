# This is a libKCmdline definition document.

title = "kvm-arm.mode - definition.toml"
name = "kvm-arm.mode"
processor = "kernel"
description = '''[KVM,ARM,EARLY] Select one of KVM/arm64's modes of
operation.

none: Forcefully disable KVM.

nvhe: Standard nVHE-based mode, without support for
protected guests.

protected: Mode with support for guests whose state is
kept private from the host, using VHE or
nVHE depending on HW support.

nested: VHE-based mode with support for nested
virtualization. Requires at least ARMv8.4
hardware (with FEAT_NV2).

Defaults to VHE/nVHE based on hardware support. Setting
mode to "protected" will disable kexec and hibernation
for the host. To force nVHE on VHE hardware, add
"arm64_sw.hvhe=0 id_aa64mmfr1.vh=0" to the
command-line.
"nested" is experimental and should be used with
extreme caution.
'''

[syntax]
type = "flag"
format = "flag"
choices = []
allow_empty = true
