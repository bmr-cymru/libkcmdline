# This is a libKCmdline definition document.

title = "kvm.enable_virt_at_load - definition.toml"
name = "kvm.enable_virt_at_load"
processor = "kernel"
description = '''If enabled, KVM will enable virtualization in hardware
when KVM is loaded, and disable virtualization when KVM
is unloaded (if KVM is built as a module).

If disabled, KVM will dynamically enable and disable
virtualization on-demand when creating and destroying
VMs, i.e. on the 0=>1 and 1=>0 transitions of the
number of VMs.

Enabling virtualization at module load avoids potential
latency for creation of the 0=>1 VM, as KVM serializes
virtualization enabling across all online CPUs.  The
"cost" of enabling virtualization when KVM is loaded,
is that doing so may interfere with using out-of-tree
hypervisors that want to "own" virtualization hardware.
'''

[syntax]
type = "[KVM,ARM64,LOONGARCH,MIPS,RISCV,X86]"
format = "[KVM,ARM64,LOONGARCH,MIPS,RISCV,X86]"
choices = []
allow_empty = true
