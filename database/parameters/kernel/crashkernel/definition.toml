# This is a libKCmdline definition document.

title = "crashkernel - definition.toml"
name = "crashkernel"
processor = "kernel"
description = '''[KNL, X86] Reserve additional crash kernel memory from
CMA. This reservation is usable by the first system's
userspace memory and kernel movable allocations (memory
balloon, zswap). Pages allocated from this memory range
will not be included in the vmcore so this should not
be used if dumping of userspace memory is intended and
it has to be expected that some movable kernel pages
may be missing from the dump.

A standard crashkernel reservation, as described above,
is still needed to hold the crash kernel and initrd.

This option increases the risk of a kdump failure: DMA
transfers configured by the first kernel may end up
corrupting the second kernel's memory.

This reservation method is intended for systems that
can't afford to sacrifice enough memory for standard
crashkernel reservation and where less reliable and
possibly incomplete kdump is preferable to no kdump at
all.
'''

[syntax]
type = "size[KMG],cma"
format = "size[KMG],cma"
choices = []
allow_empty = true
