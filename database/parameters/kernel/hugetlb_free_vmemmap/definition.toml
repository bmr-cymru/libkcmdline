# This is a libKCmdline definition document.

title = "hugetlb_free_vmemmap - definition.toml"
name = "hugetlb_free_vmemmap"
processor = "kernel"
description = '''[KNL] Requires CONFIG_HUGETLB_PAGE_OPTIMIZE_VMEMMAP
enabled.
Control if HugeTLB Vmemmap Optimization (HVO) is enabled.
Allows heavy hugetlb users to free up some more
memory (7 * PAGE_SIZE for each 2MB hugetlb page).

on: enable HVO
off: disable HVO

the default is on.

Note that the vmemmap pages may be allocated from the added
memory block itself when memory_hotplug.memmap_on_memory is
feature is enabled.  Other vmemmap pages not allocated from
the added memory block itself do not be affected.
'''

[syntax]
type = "enum"
format = "enum"
choices = ["on", "off (default)"]
allow_empty = true
